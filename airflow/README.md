# Описание плохих практик
В хорошем докерфайле все перечисленные ошибки исправлены.

## 1. Базовый образ python
 
Использование общего базового образа `python:3.11`, который содержит множество ненужных пакетов и утилит, увеличивает размер итогового Docker-образа.  


**Улучшение:**  
Лушче использовать минималистичные специализированные образы, такие как `apache/airflow:slim`, для снижения размера образа.

---

## 2. Запуск от имени root пользователя
Все команды выполняются от имени пользователя `root`, что является плохой практикой для контейнеров, так как повышает риски безопасности.  
  
**Улучшение:**  
Лучше всегда создавать пользователя с ограниченными правами для выполнения команд внутри контейнера.

---

## 3. Множество слоев RUN
Установка пакетов разбита на несколько шагов с использованием отдельных команд `RUN`. Создаются избыточные промежуточные слои, что увеличивает объем Docker-образа.


**Улучшение:**  
Можно объеденить команды в один слой.

## 4. Отсутствие HEALTHCHECK

В Dockerfile отсутствует HEALTHCHECK, которая позволяет определить, работает ли контейнер корректно.



## Сборка и запуск
### Bad

```bash
`docker build -t airflow_bad -f .\bad.Dockerfile .`

docker run -d \
     -v "D:/Vscode_projects/Containers/containers-itmo/dags:/opt/airflow/dags" \ 
     -v "D:/Vscode_projects/Containers/airflow-logs:/opt/airflow/logs" \ 
     -v "D:/Vscode_projects/Containers/temperatures:/opt/airflow/temperatures" \ 
     -e WEATHER_API_KEY="58ef808c914a66e0e00be58843f0d251" \ 
     -p 5000:8080 \ 
     airflow_bad```
```

### Good

```bash
`docker build -t airflow_good -f .\good.Dockerfile .`

docker run -d \
     -v "D:/Vscode_projects/Containers/containers-itmo/dags:/opt/airflow/dags" \ 
     -v "D:/Vscode_projects/Containers/airflow-logs:/opt/airflow/logs" \ 
     -v "D:/Vscode_projects/Containers/temperatures:/opt/airflow/temperatures" \ 
     -e WEATHER_API_KEY="58ef808c914a66e0e00be58843f0d251" \ 
     -p 5000:8080 \ 
     airflow_good
```

# Примеры случаев, когда использование контейнеризации нежелательно

## 1. **Приложения с низкой производительностью на виртуализации**
### Описание:  
Контейнеры добавляют небольшой, но все же ощутимый оверхед в производительности из-за использования виртуализации, особенно при высоких требованиях к аппаратным ресурсам. Например, задачи, требующие прямого доступа к графическим картам, могут страдать от производственных потерь.

---

## 2. **Простые одноразовые скрипты или проекты**
### Описание:  
Небольшие скрипты или проекты, которые выполняются локально, однократно, или имеют минимальные зависимости, не требуют контейнеризации, так как это добавляет ненужную сложность и затраты времени на настройку.



